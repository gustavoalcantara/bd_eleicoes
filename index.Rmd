---
title: "A relação entre o IDHM e a votação presidencial de 2018 no estado de SP"
author: "Gustavo Casteletti de Alcântara"
date: "27/02/2022"
output:
  prettydoc::html_pretty:
    theme: cerulean
editor_options: 
  chunk_output_type: console
---
## Introdução
Seguindo a proposta do Case, utilizei, através da [Base dos Dados](https://basedosdados.org/), a tabela dos resultados das Eleições Brasileiras disponíveis [aqui](https://basedosdados.org/dataset/br-tse-eleicoes). 
O acesso e utilização do pacote [basedosdados](https://basedosdados.github.io/mais/api_reference_r/) no Rstudio, o download e limpeza inicial (seleção, filtragem de atributos e criação de variáveis) encontram-se [aqui](https://github.com/gustavoalcantara/bd_eleicoes/blob/master/script_download_limpeza_dataset.R)

### DF de trabalho e outras proposições
Com o df pronto para uso, é válido ressaltar que a tabela inicial possuía cerca de 23M de linhas. Se fosse necessário o download deste arquivo em minha máquina, faria a seleção e limpeza dos dados atráves do datalake do Google pela regra SQL que elaborei. Visualize-a [aqui](https://console.cloud.google.com/bigquery?sq=52786671863:dca4197316d34aca8d3f63ef74044d34):  
```{r include=FALSE}
dados <- read.csv('dados_eleicoes.csv')
```
### Visualização do df
A tabela a seguir é o dataframe que iremos trabalhar de agora em diante. São um pouco mais de 9k linhas e 10 colunas ao total. Veja:
```{r}
dplyr::glimpse(dados)
```

## Votação presidenciável no 1º Turno
```{r echo=FALSE, message=FALSE, warning=FALSE, paged.print=FALSE}
library(tidyverse)
dplyr::filter(dados,
              turno==1)|>
  group_by(id_municipio)|>
  ggplot2::ggplot(aes(x=reorder(sigla_partido, porcentagem, FUN=median)
                      , y=porcentagem))+
  geom_boxplot() +
  coord_flip()+
  labs(x = "Partidos", y = "Porcentagem de Votos")
```





